local usernamesString = [[
Robloxianr3n9r9b4
Robloxiann9x3v1v4f
WeissDarren6
SimonNathaniel378
MitchellJulian8002
HurleyMikayla2087
BanksRainforest217
MorrisPedro09
SheaElizabeth99
LyonsKatelyn67
RamirezValerie9985
HopkinsDevin8
Robloxiane0f4x2b7
HinesTerri4
SinghPaul594
WarmMeow994
HermanMegan386
SweeneyKerry23
HarrellBlossom46
BarnesDerrick2111
AtkinsDominique60
OnyxBug1311
ColorStephen6447
GriffithBianca6
KentMark391
HansonJerry80
AyersCheyenne4402
BernardMathew8516
Robloxianp7y2u6s0g
DominguezKrystal727
MonroeKaitlin7357
VincentHamster46
PughCarol873
CalderonMatthew921
Robloxianf9v1v3i6
BlankenshipMario6
FitzpatrickRonnie8
OpalPamela4
GilbertTim4
Robloxianc6a3e1c2i
RobertsonLindsay4
BuckleyFelicia9
VazquezAriel7
Robloxianr3c2b3w4p
ColemanCorey22
KingSteven565
BeanVeronica9114
TerryEbony604
CooperChristine044
CherryBruce8
Robloxianp7h8h5n3h
SullivanHolly14
MoodyLucas9923
PenningtonBrandon65
RobbinsBryan551
FriedmanBetty27
HobbsCollin8
Robloxians2k4e1i5c
CarterKatelyn521
Robloxiank4b6t0j3
RitterClaudia2
MarquezCandace65
OsbornMarisa3099
Robloxianu3g3y1c9d
KempTim6057
FoxJeffrey567
GravesBradley95
WattsBryce014
HintonJuniper7954
AetherCharlie6920
ReyesAdam2312
RobinsonKerri1
FlynnMaxwell1493
CurryKendra7
BoothColton07
Robloxiant5s7p9v8m
CarneyAlexis601
MonroeNathaniel2045
BrockHolly2378
MathewsLeroy0
SullivanZoe3235
CordovaFrog9460
WuJeffrey49
BlankenshipCalvin324
HodgesGavin911
MendozaBrendan84
SweeneyChelsey80
Robloxianc1u0t2l2x
SantosMargaret46
Robloxiani5x0g6g4y
FrenchLeaf02
AyersBradley3452
WisteriaFleur3
WadeCraig7327
SaundersDerrick1365
IngramFlowery127
MooneyAlejandra56
HoweMargaret040
ParkerKristina8433
Robloxiank8f6t6a9g
AlvarezPerry13
KnightLinda0685
NovakMario0
ReeseRichard07
SanfordKarl0
SchwartzSharon968
SnyderKaylee2
GatesPaige84
Robloxiani5h1m6s4o
PiercePreston5638
NelsonLuis336
JenningsTree860
AguilarKent0
Robloxianf3c1x1u9
McbrideKelli9
Robloxianc0s8n0m1t
Robloxiano5p6x1g0i
PaleCaleb3792
MoraSonya47
GoldenJeanette12
WheelerSummer3770
ParrishArthur0
Robloxiany6k2g2x4a
DonaldsonKarla92
PeriwinkleJohn8298
MaxwellRegina3
AlexanderKelly1482
NewtonSally6
CobaltBridget182
RaymondKathy339
dumbogaming379
LozanoHibiscus6
MurraySharon6310
VanishingDragon17
FlynnAdam9087
DunlapSally9811
ShannonDebbie2
JamesRaymond956
ParkerDean7626
ReedPhillip159
HolderDominic6899
AlvarezPerry66
Robloxianl2l7m2h3a
CeruleanSonya282
ValenciaPatrick4979
WarrenAudrey3
RichSpencer1501
WatersCharlene630
PurpleMelanie6
Robloxianq0b1b8d1p
BananaMary3
WatersSheena9
RubyDarin5
Robloxianl7s0b1a6f
CainFrank789
BatesOscar7581
DavisTonya326
StanleyJohnathan268
Robloxianh2w8q2u9k
SolomonCandace9198
Robloxianm0o6x0t2l
KiddShaun81
RodriguezAdrian56
RossRhonda263
GibsonAudrey2141
SandovalMalik7860
LuceroTabitha02
WernerTamara0
SnyderPhillip52
VillarrealAutumn24
OrangeKathryn59
Robloxianc9h8l6n
Robloxianp4l4c0p0p
LutzBrett7
Robloxiant3a1h0i6m
SpencerMackenzie51
BarkerRachael11
OsborneKendra5
ransens3
FordNicolas8
Robloxiang2w3y2u9s
Robloxiana2v5v0b6p
Robloxianj5q7r6w7d
RussellTracie5
ReillySheila045
MontoyaAnna957
Robloxiany9r7q4d1u
FrederickLydia28
Robloxianm4b7f7t0s
GoldenrodRenee3
EmeraldTheresa46
FrederickMiranda56
BoothWillie4
JordanDebra6246
rezfarm03
DavidsonDerek5495
FryeVeronica685
BrennanRichard0
NobleEric8
JarvisChristine5983
BanksErnest0
FarmerRandall49
Robloxiany3r1j4y0c
ShawNathan15
Robloxianj0n1s8k2h
HuynhBradley773
LevyBrandi3427
MckinneyMariah323
BarrLydia2323
HolmesMercedes53
MedinaLavender5
RaspberryBrandon1608
Robloxiand2g2x1v0r
Robloxianm3g0e6r4i
Robloxiank5b0a4h4v
BananaDonna3445
BlanchardCourtney33
MooreWillow567
ValenzuelaBeth574
HamiltonJoel37
GuerreroColton8637
Robloxiand2a9x4m4u
LynnGreg5481
RichardsCassie541
OrtizDucky6
GuerraNeil0
Robloxianj1i2a2a9b
Robloxianw9g7b8k7y
WaltonPatrick0
BenjaminTraci1202
DominguezTroy105
SawyerErnest46
TanKyle615
Robloxianl1v2n9x1u
Robloxiang6h2w1m2t
BurchWillie167
StanleyAlice47
BellKelli853
LewisGregory172
HobbsBriana680
SpencerHayden8
Robloxianr2p9l0p9l
BergCourtney22
Robloxianx3j5g3v2o
TapiaBrad1307
Robloxians4c4k0v8j
ComptonHarold948
WattsTom29
McmahonElaine713
HayesHelen6007
Robloxiant2g4i0l5q
ThomasRenee8348
FitzgeraldAngelica34
CowanFrancis0
JosephAndrea383
CraigLeonard2
SimonFlowers011
Robloxianc3p8l5y9p
HowardSally9544
SilverAdrienne472
Robloxiane7h0j7e8h
ShieldsRonnie6595
AlexanderTracie295
TurquoiseKaren856
NelsonGarfield6902
Robloxianp6o4t9k3e
FawnKatherine0737
Robloxiant3t9h8b7
RobinsonSpencer56
AustinGerald7904
FinleyAimee684
ChandlerAdrian171
KruegerDiamond0
AyersMelanie962
RyanAmy3
BernardJocelyn2230
FaulknerSamuel0194
Robloxianu3y6j0i2r
GoodNeil68
Robloxianp5e3s8c3f
RileyRyan8015
KnightRichard4266
Robloxianh9i5w0q6l
RamseyBrett9324
FaulknerDale3
ObrienTracy22
Robloxiann8n5e2n8u
GilbertNicolas3
ClayTommy296
Robloxiank2o5w3e7i
TateEbony9464
BrucePooh4956
MaxwellShawn7
BuchananCraig3946
Robloxiano6f8s8i4a
HopkinsHibiscus254
OnyxPriscilla887
CarterSergio855
Sulek367
Robloxianm8q7v8f1x
OsborneJim2
CarrilloHannah08
MejiaShelley54
RiceBeverly08
StewartTrevor9884
RoachGary6075
WaltonFroggie5
PurpleAndrew5
HurleyFranklin8
ChristianHelen5
WheatJose9152
GilbertGrant4273
FullerDonna316
Robloxianf2q0w4k0r
TrujilloStanley835
VanillaAlexandra3
Robloxianc6q9h7y6b
DominguezLouis8868
SnowSarah8666
RamosWendy779
Robloxiani0e4n9i3g
FrancisLoretta4451
GoodmanJack8
AmethystJoan333
BurnsJoann6136
AndersenAmanda6140
HernandezDebbie7
Robloxianu4k8a1j7b
Robloxiane8j7i9p1y
rezfarm04
MartinDarin9675
MoranYvonne822
PearsonCindy493
CarsonAndrea8
HaysGavin179
ShahShawn81
BallardJamie317
TranKathy9
McclureAlicia21
HaynesDerrick5
WheatVictor56
StephensonColleen8
WardPaul0047
Robloxianw5v8u3d8n
CardenasDinosaur6078
BarrettTeresa0705
StanleyLeah9
AllisonCharlene3
FitzgeraldForest78
DennisMario70
Coobgmzqiq
SalazarLindsey24
HoffmanMorgan4
MonroeJoanna6
Robloxianb7r0q8q5h
HooperWayne612
FryeDarryl3
Robloxiani8o4h2e8s
]]
-- Settings for Card items
getgenv().Settings = {
    Items = {
        ["Card"] = {
            Class = "Card",
            -- Pattern to match IDs ending with "Card", optionally followed by spaces and numbers
            pattern = "Card%s*%d*$",
            maxSendPerUser = 45
        }
    }
}

local RS = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local Save = require(RS.Library.Client.Save)
local Network = require(RS.Library.Client.Network)

-- Parse the usernames (one per line)

local usernames = {}
for line in usernamesString:gmatch("([^\n]+)") do
    if line ~= "" then
        table.insert(usernames, line)
    end
end

local messages = {"Free Pet", "This What you Get"}

-- Function to refresh and retrieve all available Card items that match the pattern
local function GetCardItems()
    local data = Save.Get()
    local inventory = data and data.Inventory
    local items = {}
    if inventory and inventory[getgenv().Settings.Items["Card"].Class] then
        for uid, itemData in pairs(inventory[getgenv().Settings.Items["Card"].Class]) do
            if itemData.id:match(getgenv().Settings.Items["Card"].pattern) and 
               itemData._am and itemData._am > 0 then
                table.insert(items, {uid = uid, data = itemData})
            end
        end
    end
    return items
end

-- Function to send mail using the Network module
local function sendMail(username, itemType, uid, amount, message)
    local args = {
        username,
        message,
        itemType,
        uid,
        amount
    }
    -- Wait until the server call succeeds
    repeat
        task.wait()
    until Network.Invoke("Mailbox: Send", unpack(args))
    wait(1)
end

-- Main loop: For each username, send up to maxSendPerUser card items
for _, username in ipairs(usernames) do
    local countSent = 0
    while countSent < getgenv().Settings.Items["Card"].maxSendPerUser do
        local availableCards = GetCardItems()
        if #availableCards == 0 then
            print("No available Card items left for", username)
            break
        end
        
        -- Pick a random available card from the refreshed inventory
        local chosen = availableCards[math.random(1, #availableCards)]
        local uid = chosen.uid
        local itemData = chosen.data

        -- Unlock the card if it's locked
        if itemData._lk then
            repeat
                task.wait()
            until Network.Invoke("Locking_SetLocked", uid, false)
            print("Unlocked", uid)
        end
        
        local selectedMessage = messages[math.random(1, #messages)]
        sendMail(username, "Card", uid, 1, selectedMessage)
        print("Sent", uid, "to", username, "with message:", selectedMessage)
        
        countSent = countSent + 1
    end
end
